---
title: Keystatic & Astro
description: Apne Astro project mein Keystatic ka use karte hue content add karein
type: cms
service: Keystatic
i18nReady: true
---
import { Steps } from '@astrojs/starlight/components';
import { FileTree } from '@astrojs/starlight/components';
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';

[Keystatic](https://keystatic.com/) ek open source, headless content-management system hai jo aapko apne content ko structure karne aur GitHub ke saath sync karne ki suvidha deta hai.

:::tip
Agar aap **naya Astro + Keystatic project scratch se shuru kar rahe hain**, to aap [Keystatic CLI](https://keystatic.com/docs/quick-start#keystatic-cli) ka use kar sakte hain naya project seconds mein generate karne ke liye:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```shell
  npm create @keystatic@latest
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```shell
  pnpm create @keystatic@latest
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```shell
  yarn create @keystatic
  ```
  </Fragment>
</PackageManagerTabs>

Astro template select karein, aur aap [deploy](#deploying-keystatic--astro) karne ke liye tayaar hain!
:::

## Prerequisites

- Ek existing Astro project [server-side rendering (SSR) aur `output: 'hybrid'` ya `output: 'server'` configured ke saath](/en/guides/server-side-rendering/).

:::note
Agar aap Keystatic ka data GitHub ke saath sync karna chahte hain, to aapko **ek GitHub account chahiye jismein `write` permissions** is project ke repository par honi chahiye.
:::

## Dependencies install karna

Apne Astro project mein Markdoc (content entries ke liye) aur React (Keystatic Admin UI Dashboard ke liye) integrations add karein, apne package manager ke liye `astro add` command ka use karte hue.

<PackageManagerTabs>
  <Fragment slot="npm">
  ```shell
  npx astro add react markdoc
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```shell
  pnpm astro add react markdoc
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```shell
  yarn astro add react markdoc
  ```
  </Fragment>
</PackageManagerTabs>

Aapko do Keystatic packages bhi chahiye honge:

<PackageManagerTabs>
  <Fragment slot="npm">
  ```shell
  npm install @keystatic/core @keystatic/astro
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```shell
  pnpm add @keystatic/core @keystatic/astro
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```shell
  yarn add @keystatic/core @keystatic/astro
  ```
  </Fragment>
</PackageManagerTabs>

## Astro integration add karna

Apne Astro config file mein `@keystatic/astro` se Astro integration add karein:

```js  ins={6} ins=", keystatic()"
// astro.config.mjs
import { defineConfig } from 'astro/config'

import react from '@astrojs/react'
import markdoc from '@astrojs/markdoc'
import keystatic from '@keystatic/astro'

// https://astro.build/config
export default defineConfig({
  integrations: [react(), markdoc(), keystatic()],
  output: 'hybrid',
})
```

## Keystatic config file banana

Ek Keystatic config file ki zaroorat hoti hai taaki aapka content schema define kiya ja sake. Ye file aapko ek specific GitHub repository se project connect karne ki suvidha bhi degi (agar aap karna chahte hain).

Apne project ke root mein ek file `keystatic.config.ts` banayein aur neeche diya gaya code add karein taaki aapka storage type (`local`) aur ek single content collection (`posts`) define ho sake:

```ts {8-25}
// keystatic.config.ts
import { config, fields, collection } from '@keystatic/core';

export default config({
  storage: {
    kind: 'local',
  },

  collections: {
    posts: collection({
      label: 'Posts',
      slugField: 'title',
      path: 'src/content/posts/*',
      format: { contentField: 'content' },
      schema: {
        title: fields.slug({ name: { label: 'Title' } }),
        content: fields.markdoc({
          label: 'Content',
        }),
      },
    }),
  },
});
```

:::note[Already using content collections?]
Agar aap already [content collections](/en/guides/content-collections/#defining-collections) apne Astro project mein use kar rahe hain, to schema ko upar update karein taaki woh exactly match kare aapke existing schema mein defined collection(s) ke saath.
:::

Ab Keystatic configured hai aapke content ko manage karne ke liye based on your schema.

## Keystatic ko locally run karna

Apne Keystatic Admin UI dashboard ko launch karne ke liye, Astro ka dev server start karein:

    ```bash
    npm run dev
    ```

Browser mein `http://127.0.0.1:4321/keystatic` par visit karein aur Keystatic Admin UI running dekhein.

## Naya post banana

<Steps>
1. Keystatic Admin UI dashboard mein, "Posts" collection par click karein.

2. Naya post banane ke liye button ka use karein. Title "My First Post" aur kuch content add karein, phir post save karein.

3. Yeh post ab aapki "Posts" collection mein visible hona chahiye. Aap individual posts ko view aur edit kar sakte hain is dashboard page se.

4. Apne Astro project files ko dekhne wapas aayein. Aapko ek naya `.mdoc` file `src/content/posts` directory ke andar milega is naye post ke liye:
    <FileTree title="Project Structure">
    - src/
      - content/
        - posts/
          - **my-first-post.mdoc**
    </FileTree>

5. Us file ko apne code editor mein navigate karein aur verify karein ki aapne jo Markdown content enter kiya tha, woh waha dikh raha hai. Jaise ki: 
      ```markdown
      ---
      title: My First Post
      ---
      
      This is my very first post. I am **super** excited!
      ```
</Steps>

## Keystatic content render karna

Astro's Content Collections API ka use karein apne posts aur collections ko [query aur display karne ke liye](/en/guides/content-collections/#querying-collections), jaise ki aap kisi bhi Astro project mein karte hain.

### Collection list display karna

Niche diya gaya example har post title ka ek list display karta hai, individual post page ke link ke saath.

```tsx {4}
---
import { getCollection } from 'astro:content'

const posts = await getCollection('posts')
---
<ul>
  {posts.map(post => (
    <li>
      <a href={`/posts/${post.slug}`}>{post.data.title}</a>
    </li>
  ))}
</ul>
```

### Single entry display karna

Ek individual post ka content display karne ke liye, aap import aur use kar sakte hain `<Content />` component ko jo [aapke content ko HTML mein render karega](/en/guides/content-collections/#rendering-content-to-html):

```tsx {4-5}
---
import { getEntry } from 'astro:content'

const post = await getEntry('posts', 'my-first-post')
const { Content } = await post.render()
---

<main>
  <h1>{post.data.title}</h1>
  <Content />
</main>

```

Query karne, filter karne, aapke collections content ko display karne aur zyada jaankari ke liye, dekhein full content [collections documentation](/en/guides/content-collections/).
## Keystatic + Astro ko deploy karna

Apni website ko deploy karne ke liye, visit karein hamare [deployment guides](/en/guides/deploy/) aur apne preferred hosting provider ke liye instructions follow karein.

Aap shayad [Keystatic ko GitHub se connect karna](https://keystatic.com/docs/connect-to-github) bhi chahenge taaki aap deployed instance ke project mein content manage kar sakein.

## Official Resources

- [Official Keystatic guide](https://keystatic.com/docs/installation-astro) dekhein
- [Keystatic starter template](https://github.com/Thinkmill/keystatic/tree/main/templates/astro)
